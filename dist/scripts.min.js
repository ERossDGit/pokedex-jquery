var pokemonRepository=function(){var t=[],a="https://pokeapi.co/api/v2/pokemon/?limit=150";function e(a){var e=0;"object"==typeof a&&(e=1);var n=1;n=a.hasOwnProperty("name")&&a.hasOwnProperty("detailsUrl")?1:0,e&&n&&t.push(a)}function n(t){var a=$('<li class ="list-group-item"></li>'),e='<button type="button" class="btn btn-primary btn-lg btn-block" data-toggle="modal" data-target="#exampleModal" data-name='+t.name+" data-height="+t.height+" data-imageurl="+t.imageUrl+" >"+t.name+"</button>",n=$(e);a.append(n),$(".list-group").append(a)}function o(t){var a=t.detailsUrl;return $.ajax(a).then(function(a){t.imageUrl=a.sprites.front_default,t.height=a.height,t.types=Object.keys(a.types)}).catch(function(t){alert(t)})}return $("#exampleModal").on("show.bs.modal",function(t){var a=$(t.relatedTarget),e=a.data("name"),n=a.data("height"),o=a.data("imageurl"),i=$(this);i.find(".modal-body").html(""),i.find(".modal-title").text(e);var r=$("<p> Height: "+n+"</p>"),l=$("<img src="+o+"></img>");i.find(".modal-body").append(r),i.find(".modal-body").append(l)}),{add:e,addListItem:n,loadList:function(){$.ajax({type:"GET",url:a,success:function(t){$.each(t.results,function(t,a){var i={name:a.name,detailsUrl:a.url};e(i),o(i).then(function(){n(i)})})},error:function(t){alert(t)}})},loadDetails:o}}();pokemonRepository.loadList();
